<!--
 * @Author: five-5
 * @Date: 2019-07-10 19:15:43
 * @Description: Avl笔记
 * @LastEditTime: 2019-07-10 22:54:40
 -->

# AVL树
## 基础
[俄]G.M.*A*delson-*V*elsky、E.M.*L*andis，1962年论文首次提出，最早的自平衡二分搜索树结构

**AVL中平衡二叉树**
对于任意一个结点，左子树和右子树的高度差不能超过1；高度和结点数量的关系也是O(logn)

标注结点的高度，计算平衡因子，左子树-右子树

## 操作
二分搜索树性质及平衡性

在添加结点时，维护平衡性，回溯维护父亲及祖先结点

**自平衡机制实现**
LL :向右旋转
``` c++
 /* 对结点y进行向右旋转操作，返回旋转后新的根节点x
             y                              x
            / \                            /  \
           x   T4                         z    y
          /\         向右旋转(y)          / \   / \
         z  T3     ------------->      T1 T2  T3 T4
        / \
      T1  T2
        
    */
```
RR：向左旋转
``` c++
 /* 对结点y进行向右旋转操作，返回旋转后新的根节点x
             y                              x
            / \                            /  \
          T1   x                          y    z
              /\         向左旋转(y)      / \   / \
            T2  z       -------------> T1 T2  T3 T4
              / \
            T3  T4
        
    */
```
LR：先向左旋转，化为LL，再向右旋转

RL:先向右旋转，化为RR，再向左旋转



## 更多
1. 基于AVL树的set和map
2. AVL树的优化
子树高度不变则不用更新祖先的高度
3. AVL树的局限性
   
   平均上来说红黑树比AVL优，红黑树的旋转操作更少